-




<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interpolacion de Lagrange</title>
    <!-- para el Loader -->
    <link rel="stylesheet" href="/static/Loader/loaders.css">

    <!-- Estilo de la pagina en General -->
    <link rel="stylesheet" href="/static/templatestyles.css">

    <!-- Dependencias del Toast -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css" />

    <!-- Script Base JS -->
    <script src="/static/funciones.js" async></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicono/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicono/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicono/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
</head>

<body>
    <div>
    </div>
    <span class="text_hero">Interpolacion de <span class="textGradient1">Lagrange</span></span>
    <p>Es método utilizado para encontrar un polinomio que pase por un conjunto de
        puntos dados</p>
    <div class="content">
        <div id="main" class="main">
            <div class="descripocion">
                <p>Ingrese los datos para calcular la raiz de la funcion</p>
            </div>
            <div class="formulario">
                <div class="valor">
                    <label for="funcion">Funcion:</label>
                    <input type="text" name="funcion" id="funcion" required value="-x + exp(-x)" style="width: auto;">
                </div>
                <div class="valor">
                    <label for="tipo">Tipo:</label>
                    <input type="checkbox" name="tipo" id="tipo" onchange="cambiarTipo(this)">
                </div>
                <div class="valor">
                    <label for="test">test:</label>
                    <input type="button" value="test" onclick="obtenerArray()">
                </div>
            </div>
            <div class="tablasInput">
                <div id="puntosX" class="puntos" style="display: flex;">
                    <div>X.d</div>
                    <div class="puntosContainer" style="display: flex;
                    flex-wrap: wrap;">
                        <div id="borrar" class="buttonBig button-grey" onclick="pruebadethis()">
                            <span class="material-symbols-outlined">
                                add
                            </span>
                        </div>
                    </div>
                </div>
                <div id="puntosY" class="puntos" style="display: flex;">
                    <div>f(x)</div>
                    <div class="puntosContainer" style="display: flex;
                    flex-wrap: wrap;">
                        <div id="borrar" class="buttonBig button-grey" onclick="pruebadethis()">
                            <span class="material-symbols-outlined">
                                add
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <script>

                let idpuntos = ["puntosX", "puntosY"]


                function obtenerArray() {
                    arrayOfPuntos = [];

                    idpuntos.forEach(id => {
                        let puntos = Array.from(document.getElementById(id).children[1].children);
                        puntos.pop();
                        puntos = puntos.map(punto => punto.value);
                        arrayOfPuntos.push(puntos);
                    })
                    console.table(arrayOfPuntos);
                }



                function cambiarTipo(checkbox) {
                    if (checkbox.checked) {
                        document.getElementById("puntosX").style.display = "none";
                        document.getElementById("puntosY").style.display = "none";
                    } else {
                        document.getElementById("puntosX").style.display = "flex";
                        document.getElementById("puntosY").style.display = "flex";
                    }
                }


                function pruebadethis() {

                    idpuntos.forEach(id => {
                        let puntos = document.getElementById(id).children[1];
                        let input = document.createElement("input");
                        input.type = "number";
                        input.onfocus = function () {
                            pruebafocus(this);
                        }
                        input.onblur = function () {
                            pruebablur(this);
                        }
                        puntos.insertBefore(input, puntos.children[puntos.children.length - 1]);
                    });
                }

                function pruebafocus(elemento) {
                    let index = Array.from(elemento.parentNode.children).indexOf(elemento);
                    idpuntos.forEach(id => {
                        let puntos = document.getElementById(id).children[1];
                        puntos.children[index].style.backgroundColor = "lightblue";
                    });
                }

                function pruebablur(elemento) {
                    let index = Array.from(elemento.parentNode.children).indexOf(elemento);
                    idpuntos.forEach(id => {
                        let puntos = document.getElementById(id).children[1];
                        puntos.children[index].style.backgroundColor = "";
                    });
                }

                setTimeout(() => {
                    pruebadethis();
                    pruebadethis();
                }, 100);



            </script>







            <div class="ui">
                <div id="calcular" class="buttonBig button-green" onclick="calcular()">
                    <span class="material-symbols-outlined">
                        calculate
                    </span>
                    <span>Calcular</span>
                </div>
                <div id="guardar" class="buttonBig button-blue" onclick="guardarPDF('stepbystep')">
                    <span class="material-symbols-outlined">
                        save
                    </span>
                </div>
                <div id="borrar" class="buttonBig button-red" onclick="borrarPasos()">
                    <span class="material-symbols-outlined">
                        delete
                    </span>
                </div>
            </div>
            <div class="ui">
                <div class="buttonSmall button-yellow" onclick="mostrarDialog('explicamelo')">
                    <span class="material-symbols-outlined">
                        assignment
                    </span>
                    <span>Explícamelo</span>
                </div>
                <div class="buttonSmall button-orange" onclick="mostrarDialog('diagrama')">
                    <span class="material-symbols-outlined">
                        account_tree
                    </span>
                    <span>Diagrama de Flujo</span>
                </div>
                <div class="buttonSmall button-purple" onclick="mostrarDialog('api')">
                    <span class="material-symbols-outlined">
                        api
                    </span>
                    <span>API</span>
                </div>
            </div>
        </div>
        <div id="stepbystep" class="stepbystep">
            <center>
                <p style="
                    opacity: 0.2;
                    font-weight: 700;
                    color: #16167f;
                    width: 100%;
                    ">Aqui se mostrará el procedimiento</p>
            </center>
        </div>
        <div id="result" class="result" style="display: none;">
            <h2><span class="textGradient5">Resultados</span></h2>
            <div class="contentresult">
            </div>
        </div>
    </div>

    <br>
    <div class="footer">
        <a class="regresar" href="/">Regresar</a>
    </div>

    <!-- Sugerencias de Ejercicios 
    este sera una ventana que estara flotando a la derecha de la pagina
    -->
    <div class="sugerencias" style="right: calc(-253px); display: none;">
        <span><span class="textGradient1">
                Ejercicios Sugeridos
            </span>
        </span>
        <div id="ejercicios">

        </div>
        <div class="viñeta" onclick="cambiarEstadoSugerencias()">
            <span class="material-symbols-outlined textGradient4">
                keyboard_double_arrow_left
            </span>
        </div>
    </div>

    <dialog id="explicamelo">
        <div class="contenido">
            <div class="dialog-content">
                <span class="close" onclick="cerrarDialog('explicamelo')">
                    <span class="material-symbols-outlined">
                        close
                    </span>
                </span>

                <h2>Explicación del Método de Lagrange
            </div>
            <p>El método de Lagrange es un método de interpolación que permite encontrar un polinomio que pase por un
                conjunto de puntos dados. Este polinomio se obtiene a partir de la fórmula:</p>
            <p><code>P(x) = Σ f(x_i) * L_i(x)</code></p>
            <p>Donde:</p>
            <ul>
                <li><code>P(x)</code>: El polinomio interpolante.</li>
                <li><code>f(x_i)</code>: El valor de la función en el punto <code>x_i</code>.</li>
                <li><code>L_i(x)</code>: El polinomio de Lagrange asociado al punto <code>x_i</code>.</li>
            </ul>
            <p>El polinomio de Lagrange se define como:</p>
            <p><code>L_i(x) = Π (x - x_j) / (x_i - x_j)</code></p>
            <p>Donde:</p>
            <ul>
                <li><code>x_j</code>: Los puntos distintos de <code>x_i</code>.</li>
            </ul>
            <p>Este método es muy útil para encontrar una aproximación de una función en un punto intermedio a partir de
                los valores de la función en puntos cercanos.</p>
        </div>
    </dialog>

    <dialog id="diagrama">
        <div class="contenido">
            <div class="dialog-content">
                <span class="close" onclick="cerrarDialog('diagrama')">
                    <span class="material-symbols-outlined">
                        close
                    </span>
                </span>
                <h2>Diagrama de Flujo del Método de Lagrange</h2>
                <center>
                    <p>Aqui debe ir una imagen bien perrona del codigo</p>
                </center>
            </div>
        </div>
    </dialog>

    <dialog id="api">
        <div class="contenido">
            <div class="dialog-content">
                <span class="close" onclick="cerrarDialog('api')">
                    <span class="material-symbols-outlined">
                        close
                    </span>
                </span>
                <h2>API del Método Bisección</h2>
                <p>Para utilizar el método de la bisección a través de la API, debes realizar una petición POST al
                    siguiente endpoint:</p>
                <p><code>https://nummeth.herokuapp.com/metodos/directos/cerrados/Biseccion</code></p>
                <p>Los parámetros que debes incluir en la petición son los siguientes:</p>
                <ul>
                    <li><code>funcion</code>: La función para la cual deseas encontrar la raíz.</li>
                    <li><code>xi</code>: El valor inicial del intervalo [Xi, Xu].</li>
                    <li><code>xu</code>: El valor final del intervalo [Xi, Xu].</li>
                    <li><code>tolerancia</code>: La tolerancia deseada para la aproximación de la raíz.</li>
                </ul>
                <p>Al realizar la petición, recibirás como respuesta un objeto JSON con los siguientes campos:</p>
                <ul>
                    <li><code>raiz</code>: El valor aproximado de la raíz de la función.</li>
                    <li><code>iteraciones</code>: El número de iteraciones realizadas para encontrar la raíz.</li>
                    <li><code>error</code>: El error relativo porcentual de la aproximación.</li>
                </ul>
                <p>¡Inténtalo y encuentra la raíz de tus funciones de forma sencilla!</p>
            </div>
        </div>
    </dialog>



    <script>
        //Aqui debe ir la direccion del EndPoint de el Metodo
        let endPoint = "/metodos/interpolacion/lagrange"
        //Aqui iran los id de todos los datos que se enviaran al EndPoint
        let variables = ["funcion"];
        //Esta es la funcion que hace el POST y solo se modificara si y solo si es necesario
        function calcular() {
            let datos = {}
            datos.puntos = arrayOfPuntos;
            variables.forEach(variable => {
                datos[variable] = document.getElementById(variable).value;
            });
            console.log(datos);
            realizarPeticionPOST(endPoint, datos)
        }
        //Aqui se pondran los ejercicios sugeridos y que se sepa que funcionan
        let ejercicios = [
            ["funcion", "xi", "xu", "tolerancia"],
            ["-x + exp(-x)", 0.1, 1.5, 0.05],
            ["x^2 - 4", -2, 2, 0.01],
            ["sin(x)", 0, 3, 0.1],
            ["log(x)", 1, 10, 0.001]
        ]
    </script>

    <script src="/static/Loader/background.js" async></script>
</body>

</html>